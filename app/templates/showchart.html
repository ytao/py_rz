{% extends "base.html" %}
{% block header %}{% endblock %} {% block body %}

<!--  pie_chart data with library={ 'yAxis':{'title':{'text':'字数'}},'xAxis':{'title':{'text':'每天记录字数'}},'title':{'display': 'true', 'text': '每天记录字数'}}  -->

<div class="container-fluid">
	<div class="row-fluid">
		<div class="col-md-6">
			<div id="chart1">
			</div>

		</div>
		<div class="col-md-6">
			<div id="chart2">
			</div>

		</div>
	</div>
</div>

<br />
<div class="table-responsive">
	<table id="grid_id" style="font-size:small" width="100%" class="table table-striped  table-hover table-condensed">
		<thead>
			<tr class="success">
				<th><strong>日期</strong></th>
				<th><strong>字数</strong></th>
			</tr>
		</thead>
		<tbody>
			{% for item in list %}
			<tr>
				<td>{{item}} </td>
				<td>{{data[item]}} </td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>

<script>
	$(function () {
		$('#chart1').highcharts({
			chart: {
				type: 'column'
			},
			title: {
				text: '每日记录字数饼图'
			},
			credits: {
				enabled: false
			},
			subtitle: {
				text: '把每天的记录合并后列出来'
			},
			yAxis: {
				title: {
					text: '每日字数'
				}
			},
			xAxis:{
				categories:[
				{% for item in list %} '{{item}}', {% endfor %}
				]
			},
			plotOptions: {
				line: {
					dataLabels: {
						enabled: true
					},
					enableMouseTracking: true
				}
			},
			series: [{
				name:'列表',
				data:[ {% for item in list %} {{data[item]}}, {% endfor %} ],
				dataLabels: { 
					enabled: true
				}
			}]
		})
	});
</script>

<script>
	$(function () {
		$('#chart2').highcharts({
			title: {
				text: '每日记录字数饼图'
			},
			credits: {
				enabled: false
			},
			subtitle: {
				text: '把每天的记录合并后列出来'
			},
			yAxis: {
				title: {
					text: '每日字数'
				}
			},
			xAxis:{
				categories:[
				{% for item in list %} '{{item}}', {% endfor %}
				]
			},
			plotOptions: {
				line: {
					dataLabels: { enabled: true },
					enableMouseTracking: true
				}
			},
			series: [ 
			{
				type:'pie',
				name:'列表',
				data:[ {% for item in list %} ["{{item}}" , {{data[item]}}], {% endfor %} ],
				dataLabels: { enabled: true },
			}
			]
		})
	});
</script>
{% endblock %}
